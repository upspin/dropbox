{
  "comments": [
    {
      "key": {
        "uuid": "fb3f7d0b_9d1ff98e",
        "filename": "cloud/storage/dropbox/dropbox.go",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-10-10T23:10:48Z",
      "side": 1,
      "message": "If you don\u0027t have any configuration for the http client then just use net/http.DefaultClient",
      "revId": "2761d61609808c8983415a1baf03ec0cd989c7b1",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0345fde5_46a409ab",
        "filename": "cloud/storage/dropbox/dropbox.go",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-10-10T23:10:48Z",
      "side": 1,
      "message": "I would prefer that this should be \"Dropbox\", no need for it to be shouty.",
      "range": {
        "startLine": 41,
        "startChar": 19,
        "endLine": 41,
        "endChar": 26
      },
      "revId": "2761d61609808c8983415a1baf03ec0cd989c7b1",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c609f86b_6c10c244",
        "filename": "cloud/storage/dropbox/dropbox.go",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-10-10T23:10:48Z",
      "side": 1,
      "message": "This is unsafe, if you don\u0027t trust the caller (and maybe even if you do).\n\npPlease at least use %q here to quote the ref, but better still would be to actually encode the JSON:\n\narg, _ :\u003d json.Marshal(struct{\n Path string `json:\"path\"`\n}{ref})\n\nthen below:\n\nreq.Header.Add(\"Dropbox-API-Arg\", string(arg))",
      "revId": "2761d61609808c8983415a1baf03ec0cd989c7b1",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86d0b422_3c334500",
        "filename": "cloud/storage/dropbox/dropbox.go",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-10-10T23:10:48Z",
      "side": 1,
      "message": "There\u0027s a lot of code here shared between the three big methods of this type. Perhaps consolidate them into a couple of helper functions?\n\nfunc (d *dropboxImpl) newRequest(path string, arg interface{}) (*http.Request, error)\n\nand\n\nfunc (d *dropboxImpl) doRequest(req *http.Request) ([]byte, error)",
      "revId": "2761d61609808c8983415a1baf03ec0cd989c7b1",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "491d3b94_8dd136ab",
        "filename": "cloud/storage/dropbox/dropbox.go",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-10-10T23:10:48Z",
      "side": 1,
      "message": "If http.NewRequest fails here then req will be nil and this line will panic. Check the error before setting the headers.",
      "revId": "2761d61609808c8983415a1baf03ec0cd989c7b1",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "704b4e9c_e8474042",
        "filename": "cloud/storage/dropbox/dropbox.go",
        "patchSetId": 1
      },
      "lineNbr": 79,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-10-10T23:10:48Z",
      "side": 1,
      "message": "this string might be redundant; the http status code should be self-explanatory",
      "range": {
        "startLine": 79,
        "startChar": 4,
        "endLine": 79,
        "endChar": 35
      },
      "revId": "2761d61609808c8983415a1baf03ec0cd989c7b1",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9e8d027_8571dbc2",
        "filename": "cloud/storage/dropbox/dropbox.go",
        "patchSetId": 1
      },
      "lineNbr": 94,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-10-10T23:10:48Z",
      "side": 1,
      "message": "I tend to use structs for this kind of thing because they\u0027re more efficient and type safe.",
      "range": {
        "startLine": 94,
        "startChar": 26,
        "endLine": 94,
        "endChar": 48
      },
      "revId": "2761d61609808c8983415a1baf03ec0cd989c7b1",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f6d3f05_82935484",
        "filename": "cloud/storage/dropbox/dropbox.go",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-10-10T23:10:48Z",
      "side": 1,
      "message": "You must always consume the body, or at least call resp.Body.Close(), to avoid these client requests hanging forever.",
      "revId": "2761d61609808c8983415a1baf03ec0cd989c7b1",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    }
  ]
}